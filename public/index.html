<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlas Panel - JWT Authentication</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ”’</text></svg>">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <h1 class="atlas-logo">Atlas Panel</h1>
                <p class="login-subtitle">GÃ¼venli GiriÅŸ Sistemi</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="input-group">
                    <input type="text" id="username" placeholder="KullanÄ±cÄ± AdÄ±" required>
                    <span class="input-icon"><i class="fas fa-user"></i></span>
                </div>
                <div class="input-group">
                    <input type="password" id="password" placeholder="Åžifre" required>
                    <span class="input-icon"><i class="fas fa-lock"></i></span>
                </div>
                <button type="submit" class="login-btn">
                    <span class="btn-text">GiriÅŸ Yap</span>
                    <div class="btn-loader hidden"></div>
                </button>
            </form>
            <div id="loginError" class="error-message hidden"></div>
        </div>
    </div>

    <!-- Main Panel -->
    <div id="mainPanel" class="main-panel hidden">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h2 class="panel-title">Atlas Panel</h2>
                <button id="logoutBtn" class="logout-btn"><i class="fas fa-sign-out-alt"></i></button>
            </div>
            <ul class="nav-menu">
                <li><a href="#" data-page="home" class="nav-link active" style="--i:0"><i class="fas fa-home"></i> Anasayfa</a></li>
                <li><a href="#" data-page="supersearch" class="nav-link" style="--i:1"><i class="fas fa-search-plus"></i> Super Search</a></li>
                <li><a href="#" data-page="adsoyad" class="nav-link" style="--i:2"><i class="fas fa-users"></i> Ad Soyad Sorgu</a></li>
                <li><a href="#" data-page="tc" class="nav-link" style="--i:3"><i class="fas fa-id-card"></i> TC Sorgu</a></li>
                <li><a href="#" data-page="adres" class="nav-link" style="--i:4"><i class="fas fa-map-marker-alt"></i> Adres Sorgu</a></li>
                <li><a href="#" data-page="isyeri" class="nav-link" style="--i:5"><i class="fas fa-building"></i> Ä°ÅŸyeri Sorgu</a></li>
                <li><a href="#" data-page="sulale" class="nav-link" style="--i:6"><i class="fas fa-sitemap"></i> Sulale Sorgu</a></li>
                <li><a href="#" data-page="tcgsm" class="nav-link" style="--i:7"><i class="fas fa-mobile-alt"></i> TC â†’ GSM</a></li>
                <li><a href="#" data-page="gsmtc" class="nav-link" style="--i:8"><i class="fas fa-phone"></i> GSM â†’ TC</a></li>
                <li><a href="#" data-page="iplookup" class="nav-link" style="--i:9"><i class="fas fa-globe"></i> IP Sorgu & Harita</a></li>
                <li><a href="#" data-page="iban" class="nav-link" style="--i:10"><i class="fas fa-university"></i> IBAN Sorgu</a></li>
                <li><a href="#" data-page="ibanhesap" class="nav-link" style="--i:11"><i class="fas fa-user-check"></i> IBAN â†’ Hesap Sahibi</a></li>
                <li id="adminMenuItem" class="hidden"><a href="#" data-page="admin" class="nav-link" style="--i:12"><i class="fas fa-cog"></i> Admin Panel</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Home Page -->
            <div id="homePage" class="page active">
                <div class="page-header">
                    <h1 class="page-title">Atlas Panel'e HoÅŸ Geldiniz</h1>
                    <p class="page-subtitle">GÃ¼venli ve hÄ±zlÄ± sorgulama sistemi</p>
                </div>
                <div class="stats-grid">
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="100">
                        <div class="stat-icon"><i class="fas fa-search"></i></div>
                        <div class="stat-info">
                            <h3>Toplam Sorgu</h3>
                            <p class="stat-number" id="totalQueries">0</p>
                        </div>
                    </div>
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="200">
                        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="stat-info">
                            <h3>BaÅŸarÄ±lÄ±</h3>
                            <p class="stat-number" id="successfulQueries">0</p>
                        </div>
                    </div>
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="300">
                        <div class="stat-icon"><i class="fas fa-times-circle"></i></div>
                        <div class="stat-info">
                            <h3>BaÅŸarÄ±sÄ±z</h3>
                            <p class="stat-number" id="failedQueries">0</p>
                        </div>
                    </div>
                    <div class="stat-card" data-aos="fade-up" data-aos-delay="400">
                        <div class="stat-icon"><i class="fas fa-users"></i></div>
                        <div class="stat-info">
                            <h3>Aktif KullanÄ±cÄ±</h3>
                            <p class="stat-number" id="totalUsers">0</p>
                        </div>
                    </div>
                </div>
                
                <!-- User Stats -->
                <div class="user-stats-section" data-aos="fade-up" data-aos-delay="500">
                    <h3>KiÅŸisel Ä°statistikleriniz</h3>
                    <div class="user-stats-grid">
                        <div class="user-stat-card">
                            <span class="user-stat-label">Toplam SorgularÄ±nÄ±z</span>
                            <span class="user-stat-value" id="userTotalQueries">0</span>
                        </div>
                        <div class="user-stat-card">
                            <span class="user-stat-label">BaÅŸarÄ±lÄ± SorgularÄ±nÄ±z</span>
                            <span class="user-stat-value" id="userSuccessfulQueries">0</span>
                        </div>
                        <div class="user-stat-card">
                            <span class="user-stat-label">BaÅŸarÄ± OranÄ±nÄ±z</span>
                            <span class="user-stat-value" id="userSuccessRate">0%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Super Search Page -->
            <div id="supersearchPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Super Search</h1>
                    <p class="page-subtitle">AkÄ±llÄ± arama sistemi - Tek kutuda tÃ¼m sorgular</p>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <div class="super-search-container">
                        <div class="search-input-wrapper">
                            <input type="text" id="superSearchInput" placeholder="TC, GSM, IP, IBAN, Ad Soyad veya herhangi bir veri girin..." maxlength="50">
                            <div class="search-suggestions" id="searchSuggestions"></div>
                        </div>
                        <div class="search-options">
                            <label class="search-option">
                                <input type="checkbox" id="autoDetect" checked>
                                <span>Otomatik AlgÄ±lama</span>
                            </label>
                            <label class="search-option">
                                <input type="checkbox" id="multiSearch" checked>
                                <span>Ã‡oklu Arama</span>
                            </label>
                            <label class="search-option">
                                <input type="checkbox" id="deepSearch">
                                <span>Derin Arama</span>
                            </label>
                        </div>
                        <div class="detected-types" id="detectedTypes"></div>
                    </div>
                    <button onclick="performSuperSearch()" class="query-btn super-search-btn">
                        <i class="fas fa-search-plus"></i> Super Search BaÅŸlat
                    </button>
                </div>
                <div id="supersearchResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Ad Soyad Sorgu Page -->
            <div id="adsoyadPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Ad Soyad Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <div class="form-row">
                        <input type="text" id="adi" placeholder="Ad *" required>
                        <input type="text" id="soyadi" placeholder="Soyad *" required>
                    </div>
                    <div class="form-row">
                        <input type="text" id="il" placeholder="Ä°l (Opsiyonel)">
                        <input type="text" id="ilce" placeholder="Ä°lÃ§e (Opsiyonel)">
                    </div>
                    <button onclick="queryAdsoyad()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="adsoyadResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- TC Sorgu Page -->
            <div id="tcPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">TC Kimlik Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <input type="text" id="tcInput" placeholder="TC Kimlik No (11 hane)" maxlength="11">
                    <button onclick="queryTC()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="tcResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Adres Sorgu Page -->
            <div id="adresPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Adres Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <input type="text" id="adresTc" placeholder="TC Kimlik No (11 hane)" maxlength="11">
                    <button onclick="queryAdres()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="adresResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Ä°ÅŸyeri Sorgu Page -->
            <div id="isyeriPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Ä°ÅŸyeri Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <input type="text" id="isyeriTc" placeholder="TC Kimlik No (11 hane)" maxlength="11">
                    <button onclick="queryIsyeri()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="isyeriResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Sulale Sorgu Page -->
            <div id="sulalePage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Sulale Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <input type="text" id="sulaleTc" placeholder="TC Kimlik No (11 hane)" maxlength="11">
                    <button onclick="querySulale()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="sulaleResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- TC GSM Sorgu Page -->
            <div id="tcgsmPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">TC â†’ GSM Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <input type="text" id="tcgsmInput" placeholder="TC Kimlik No (11 hane)" maxlength="11">
                    <button onclick="queryTcGsm()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="tcgsmResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- GSM TC Sorgu Page -->
            <div id="gsmtcPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">GSM â†’ TC Sorgu</h1>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <input type="text" id="gsmInput" placeholder="GSM NumarasÄ± (10 hane)">
                    <button onclick="queryGsmTc()" class="query-btn"><i class="fas fa-search"></i> Sorgula</button>
                </div>
                <div id="gsmtcResults" class="results-container" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Enhanced IP Lookup Page with Interactive Map -->
            <div id="iplookupPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">GeliÅŸmiÅŸ IP Adres Analizi & Harita</h1>
                    <p class="page-subtitle">15+ API'den birleÅŸik sonuÃ§ - KapsamlÄ± gÃ¼venlik ve konum analizi + Ä°nteraktif Harita</p>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <div class="ip-input-section">
                        <input type="text" id="ipInput" placeholder="IP Adresi (IPv4 veya IPv6)" pattern="^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$|^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$">
                        <div class="ip-examples">
                            <span>IPv4 Ã–rnekleri:</span>
                            <button type="button" onclick="setExampleIP('8.8.8.8')" class="example-ip">8.8.8.8</button>
                            <button type="button" onclick="setExampleIP('1.1.1.1')" class="example-ip">1.1.1.1</button>
                            <button type="button" onclick="setExampleIP('208.67.222.222')" class="example-ip">208.67.222.222</button>
                            <button type="button" onclick="setExampleIP('185.228.168.9')" class="example-ip">185.228.168.9</button>
                        </div>
                        <div class="ip-examples">
                            <span>IPv6 Ã–rnekleri:</span>
                            <button type="button" onclick="setExampleIP('2001:4860:4860::8888')" class="example-ip ipv6">2001:4860:4860::8888</button>
                            <button type="button" onclick="setExampleIP('2606:4700:4700::1111')" class="example-ip ipv6">2606:4700:4700::1111</button>
                            <button type="button" onclick="getMyIP()" class="example-ip my-ip">Benim IP'm</button>
                        </div>
                        <div class="ip-analysis-options">
                            <label><input type="checkbox" id="deepAnalysis" checked> Derin GÃ¼venlik Analizi</label>
                            <label><input type="checkbox" id="performanceAnalysis" checked> Performans Analizi</label>
                            <label><input type="checkbox" id="reputationCheck" checked> Reputation KontrolÃ¼</label>
                            <label><input type="checkbox" id="showMap" checked> Ä°nteraktif Harita GÃ¶ster</label>
                        </div>
                    </div>
                    <button onclick="queryEnhancedIPWithMap()" class="query-btn enhanced"><i class="fas fa-search-plus"></i> GeliÅŸmiÅŸ IP Analizi & Harita</button>
                </div>
                
                <!-- Interactive Map Container -->
                <div id="ipMapContainer" class="map-container hidden" data-aos="fade-up" data-aos-delay="200">
                    <div class="map-header">
                        <h3><i class="fas fa-map-marked-alt"></i> IP Konum HaritasÄ±</h3>
                        <div class="map-controls">
                            <button onclick="toggleMapView()" class="map-control-btn">
                                <i class="fas fa-expand-arrows-alt"></i> Tam Ekran
                            </button>
                            <button onclick="centerMap()" class="map-control-btn">
                                <i class="fas fa-crosshairs"></i> Merkeze Al
                            </button>
                        </div>
                    </div>
                    <div id="ipMap" class="interactive-map"></div>
                    <div class="map-info">
                        <div class="location-details">
                            <div class="detail-item">
                                <i class="fas fa-map-marker-alt"></i>
                                <span id="mapLocationText">Konum bilgisi yÃ¼kleniyor...</span>
                            </div>
                            <div class="detail-item">
                                <i class="fas fa-ruler-horizontal"></i>
                                <span id="mapAccuracyText">DoÄŸruluk: HesaplanÄ±yor...</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div id="iplookupResults" class="results-container enhanced" data-aos="fade-up" data-aos-delay="400"></div>
            </div>

            <!-- IBAN to Account Holder Page -->
            <div id="ibanhesapPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">IBAN â†’ Hesap Sahibi Sorgu</h1>
                    <p class="page-subtitle">IBAN numarasÄ±ndan hesap sahibi bilgilerini sorgulayÄ±n</p>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <div class="iban-input-section">
                        <input type="text" id="ibanHesapInput" placeholder="IBAN NumarasÄ± (Ã¶rn: TR330006100519786457841326)" maxlength="40">
                        <div class="iban-examples">
                            <span>TÃ¼rkiye Ã–rnekleri:</span>
                            <button type="button" onclick="setExampleIBANHesap('TR330006100519786457841326')" class="example-iban">TR33 0006 1005 1978 6457 8413 26</button>
                            <button type="button" onclick="setExampleIBANHesap('TR640001200009300131000001')" class="example-iban">TR64 0001 2000 0930 0131 0000 01</button>
                        </div>
                        <div class="iban-examples">
                            <span>UluslararasÄ± Ã–rnekler:</span>
                            <button type="button" onclick="setExampleIBANHesap('DE89370400440532013000')" class="example-iban">DE89 3704 0044 0532 0130 00</button>
                            <button type="button" onclick="setExampleIBANHesap('GB29NWBK60161331926819')" class="example-iban">GB29 NWBK 6016 1331 9268 19</button>
                        </div>
                        <div class="iban-info">
                            <i class="fas fa-info-circle"></i>
                            <span>IBAN numarasÄ±nÄ± boÅŸluklu veya boÅŸluksuz girebilirsiniz. Hesap sahibi bilgileri sorgulanacak.</span>
                        </div>
                        <div class="iban-analysis-options">
                            <label><input type="checkbox" id="detailedSearch" checked> DetaylÄ± Arama</label>
                            <label><input type="checkbox" id="bankVerification" checked> Banka DoÄŸrulama</label>
                            <label><input type="checkbox" id="ownershipHistory" checked> Sahiplik GeÃ§miÅŸi</label>
                        </div>
                    </div>
                    <button onclick="queryIBANHesapSahibi()" class="query-btn enhanced"><i class="fas fa-user-check"></i> Hesap Sahibi Sorgu</button>
                </div>
                <div id="ibanhesapResults" class="results-container enhanced" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Enhanced IBAN Lookup Page -->
            <div id="ibanPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">GeliÅŸmiÅŸ IBAN Analizi ve DoÄŸrulama</h1>
                    <p class="page-subtitle">KapsamlÄ± IBAN doÄŸrulama, banka analizi ve gÃ¼venlik kontrolÃ¼</p>
                </div>
                <div class="query-form" data-aos="fade-up">
                    <div class="iban-input-section">
                        <input type="text" id="ibanInput" placeholder="IBAN NumarasÄ± (Ã¶rn: TR330006100519786457841326)" maxlength="40">
                        <div class="iban-examples">
                            <span>TÃ¼rkiye Ã–rnekleri:</span>
                            <button type="button" onclick="setExampleIBAN('TR330006100519786457841326')" class="example-iban">TR33 0006 1005 1978 6457 8413 26</button>
                            <button type="button" onclick="setExampleIBAN('TR640001200009300131000001')" class="example-iban">TR64 0001 2000 0930 0131 0000 01</button>
                        </div>
                        <div class="iban-examples">
                            <span>UluslararasÄ± Ã–rnekler:</span>
                            <button type="button" onclick="setExampleIBAN('DE89370400440532013000')" class="example-iban">DE89 3704 0044 0532 0130 00</button>
                            <button type="button" onclick="setExampleIBAN('GB29NWBK60161331926819')" class="example-iban">GB29 NWBK 6016 1331 9268 19</button>
                            <button type="button" onclick="setExampleIBAN('FR1420041010050500013M02606')" class="example-iban">FR14 2004 1010 0505 0001 3M02 606</button>
                        </div>
                        <div class="iban-info">
                            <i class="fas fa-info-circle"></i>
                            <span>IBAN numarasÄ±nÄ± boÅŸluklu veya boÅŸluksuz girebilirsiniz. Otomatik formatlama yapÄ±lÄ±r.</span>
                        </div>
                        <div class="iban-analysis-options">
                            <label><input type="checkbox" id="securityAnalysis" checked> GÃ¼venlik Analizi</label>
                            <label><input type="checkbox" id="complianceCheck" checked> Uyumluluk KontrolÃ¼</label>
                            <label><input type="checkbox" id="bankVerification" checked> Banka DoÄŸrulama</label>
                            <label><input type="checkbox" id="riskAssessment" checked> Risk DeÄŸerlendirmesi</label>
                        </div>
                    </div>
                    <button onclick="queryEnhancedIBAN()" class="query-btn enhanced"><i class="fas fa-university"></i> GeliÅŸmiÅŸ IBAN Analizi</button>
                </div>
                <div id="ibanResults" class="results-container enhanced" data-aos="fade-up" data-aos-delay="200"></div>
            </div>

            <!-- Admin Panel Page -->
            <div id="adminPage" class="page">
                <div class="page-header">
                    <h1 class="page-title">Admin Panel</h1>
                    <p class="page-subtitle">KullanÄ±cÄ± yÃ¶netimi</p>
                </div>
                
                <!-- Add User Form -->
                <div class="admin-section" data-aos="fade-up">
                    <h3>Yeni KullanÄ±cÄ± Ekle</h3>
                    <div class="query-form">
                        <div class="form-row">
                            <input type="text" id="newUsername" placeholder="KullanÄ±cÄ± AdÄ±">
                            <input type="password" id="newPassword" placeholder="Åžifre">
                            <select id="newRole">
                                <option value="user">KullanÄ±cÄ±</option>
                                <option value="admin">Admin</option>
                            </select>
                        </div>
                        <button onclick="addUser()" class="query-btn"><i class="fas fa-user-plus"></i> KullanÄ±cÄ± Ekle</button>
                    </div>
                </div>

                <!-- Users List -->
                <div class="admin-section" data-aos="fade-up" data-aos-delay="200">
                    <h3>Mevcut KullanÄ±cÄ±lar</h3>
                    <div id="usersList" class="results-container"></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <span id="toastMessage"></span>
    </div>

    <!-- AOS Animation Library -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <!-- Leaflet Map Library -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script src="script.js"></script>
</body>
</html>